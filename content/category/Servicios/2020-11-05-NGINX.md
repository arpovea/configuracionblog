---
title: Servidor web NGINX
author: Adrián Rodríguez Povea
status: draft
Summary: 

---

Tarea 2 Virtual host:

Configuracion www.iesgn.org 

server {
  listen 80;

  root /srv/www/iesgn;
  index index.html index.htm;

  server_name www.iesgn.org;
}


Configuracion departamentos.iesgn.org

server {
  listen 80;

  root /srv/www/departamentos;
  index index.html index.htm;

  server_name departamentos.iesgn.org;
}

Tarea 3,4 y 5

3


mkdir /principal y touch index.html

Agrega wwwiesgn:

rewrite ^/$ http://www.iesgn.org/principal/index.html permanent;

        location /principal {
                autoindex off;
                disable_symlinks on;
                default_type text/html;
        }

le indicamos k el tipo de fichero es texto/o html xk si no, no detecta la extension y se los descarga en vez de mostrarlos.

4

mkdir /documentos

mkdir /srv/doc

Agrega wwwiesgn:

        location /documentos {
                alias /srv/doc;
                autoindex on;
                disable_symlinks if_not_owner;
        }

5

mkdir /error
echo "<h1>OBJETO NO PERMITIDO</h1>" > /srv/www/iesgn/error/403.html
echo "<h1>OBJETO NO ENCONTRADO</h1>" > /srv/www/iesgn/error/404.html

Agrega wwwiesgn:

error_page 403 /error/403.html;
error_page 404 /error/404.html;




***

Muchas gracias por leer hasta aquí espero que haya servido de ayuda. Un saludo.    
